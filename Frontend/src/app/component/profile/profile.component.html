<div class="bg-black">
    <!-- Navbar -->
    <app-navbar></app-navbar>
    <!-- Profile -->
    <div class="container mt-4">
        <div class="row mb-4">
            <div class="d-flex justify-content-between">
                <div class="d-flex mt-4">
                    <img [src]="user.image" height="100" width="150"
                        class="img-fluid rounded-circle" alt="User">
                    <div class="ms-3">
                        <h1 class="text-white mt-2 fw-bold">{{ user.firstname + " " + user.lastname }}</h1>
                        <h3 class="text-muted">{{ user.bio}}</h3>
                        <div class="d-flex">
                            <div class="d-flex"><mat-icon class="text-info">place</mat-icon>
                                <h3 class="ms-1 text-muted">{{ user.location }}</h3>
                            </div>
<!--                            <div class="d-flex ms-2"><mat-icon class="text-success">bookmark</mat-icon>-->
<!--                                <h3 class="ms-1 text-muted">EloussM</h3>-->
<!--                            </div>-->
                        </div>
                    </div>
                </div>
                <div>
                    <div class="mt-1 rounded">
                        <button class="btn btn-primary ms-3" (click)="onSettingsClick()">EDIT PROFILE</button>
                    </div>
                    <div class="mt-3">
                        <div class="d-flex justify-content-between">
                            <div><h4 class="text-warning text-center fw-bold">{{ watchCount }}</h4><p class="text-muted">Movies</p></div>
                            <div class="ms-4"><h4 class="text-danger text-center fw-bold">{{ likeCount }}</h4><p class="text-muted">Likes</p></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="item mt-4 mb-4">
              <div class="ms-3 d-flex justify-content-evenly">
                <p class=""><a class="text-danger fs-5 crum" (click)="onProfileClick()">Profile</a></p>
                <p class="ms-3"><a class="text-white opacity-75 fs-5 crum" (click)="onProfileMoviesClick()">Movies</a></p>
                <p class="ms-3"><a class="text-white opacity-75 fs-5 crum" (click)="onDiaryClick()">Diary</a></p>
                <p class="ms-3"><a class="text-white opacity-75 fs-5 crum" (click)="onReviewsClick()">Reviews</a></p>
                <p class="ms-3"><a class="text-white opacity-75 fs-5 crum" (click)="onWatchListClick()">Watchlist</a></p>
                <p class="ms-3"><a class="text-white opacity-75 fs-5 crum" (click)="onLikesClick()">Likes</a></p>
              </div>
        </div>

        <!-- Recent Likes Section -->
        <div class="container mt-4">
            <div class="d-flex justify-content-between">
                <h3 class="fw-bolder text-secondary">Recent Likes</h3>
                <h3 class="fw-bolder text-secondary">All</h3>
            </div>
            <hr class="text-white">
            <div class="row">
                <div *ngFor="let movie of likedMovies" class="col-lg-2 col-md-4 card bg-black movie-card">
                    <img [src]="movie.image" class="card-img-top movie-poster rounded" alt="{{ movie.title }}" (click)="onMovieClick(movie.id)">
                  <div class="movie-overlay">
                    <p class="text-white fs-2">{{ movie.title}}</p>
                    <p class="text-danger fs-2">{{ movie.year }}</p>
                  </div>
                </div>
            </div>
        </div>

        <!-- Recent Reviews -->
<div class="container mb-3 mt-4">
  <div class="d-flex justify-content-between">
    <h3 class="fw-bolder text-secondary">Recent Reviews</h3>
    <h3 class="fw-bolder text-secondary">More</h3>
  </div>
  <hr class="text-white">
    <div *ngFor="let review of recentReviews">
      <div class="row" (click)="onMovieClick(review.movieId)">
        <div class="col-md-2">
          <img src="https://image.tmdb.org/t/p/w500/{{review.movieImage}}" class="img-fluid bg-white movie-poster" hei alt="Movie Poster">
        </div>
        <div class="col-md-10 bg-dark">
          <div class="card mb-3 bg-dark">
            <div class="card-body">
              <h2 class="card-title text-white">{{review.movieTitle }} <span class="text-danger">({{review.movieYear}})</span></h2>
              <div class="mt-1">
                <ng-container *ngFor="let star of [1, 2, 3, 4, 5]; let i = index">
                  <mat-icon class="star" [ngClass]="{ 'star-hover': i < review.rating }">star</mat-icon>
                </ng-container>
              </div>
              <p class="card-text mt-2 text-white">{{ review.content }}</p>
              <p class="text-white-50 watched">{{review.timestamp.dayOfMonth}} {{review.timestamp.day}} {{review.date}}</p>
            </div>
          </div>
        </div>
      </div>
      <br>
    </div>

 </div>

    </div>

    <!-- Footer Section -->
    <hr class="text-muted mt-4">
    <app-footer></app-footer>
</div>
